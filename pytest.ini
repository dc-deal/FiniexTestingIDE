[pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
addopts = -v --tb=short

# =============================================================================
# Warning Filters
# =============================================================================
# FiniexTestingIDE uses ProcessPoolExecutor with fork() on Linux for true
# parallelism across scenarios (see docs/process_execution_guide.md).
#
# Python 3.12+ emits a DeprecationWarning when os.fork() is called in a
# multi-threaded process. This is expected behavior in our architecture:
# - Production: ProcessPool uses fork() for zero-copy CoW data sharing
# - Debug mode: Auto-switches to ThreadPool (no fork, no warning)
# - pytest runs: BatchOrchestrator initializes the pool → triggers fork()
#
# The warning originates from:
#   /usr/local/lib/python3.12/multiprocessing/popen_fork.py:66
#   "This process is multi-threaded, use of fork() may lead to deadlocks"
#
# We suppress this globally because:
# 1. fork() is a deliberate design choice (not accidental)
# 2. Our subprocesses create all objects fresh (no shared state → no deadlock)
# 3. The warning is noise in test output across ALL test suites
# =============================================================================
filterwarnings =
    ignore:This process.*is multi-threaded:DeprecationWarning